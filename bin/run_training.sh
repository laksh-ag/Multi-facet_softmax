#!/bin/bash
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20201102-145319 --continue_train --seed 11 --n_facet 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 6 --optimizer AdamW --lr 1e-4 --clip 0.1 --start_training_split 6
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20201102-145712 --continue_train --seed 11 --n_facet 1 --n_facet_hidden 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 6 --optimizer AdamW --lr 1e-4 --clip 0.1 --start_training_split 8
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20201102-145824 --continue_train --seed 11 --n_facet 3 --n_facet_hidden 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 32 --batch_size 50 --optimizer AdamW --lr 1e-4 --clip 0.1 --start_training_split 6
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20201102-171838 --continue_train --seed 11 --n_facet 1 --n_facet_hidden 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 32 --batch_size 50 --optimizer AdamW --lr 1e-4 --clip 0.1 --start_training_split 8

#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 3 --n_facet_hidden 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 32 --batch_size 50 --optimizer AdamW --lr 1e-4 --clip 0.1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init --seed 11 --n_facet 1 --n_facet_hidden 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 32 --batch_size 50 --optimizer AdamW --lr 1e-4 --clip 0.1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20201109-215322 --continue_train --only_visualize True --seed 11 --n_facet 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 5 --optimizer AdamW --lr 1e-4 --clip 0.1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20201113-162724 --continue_train --only_visualize True --seed 11 --n_facet 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 5 --optimizer AdamW --lr 1e-4 --clip 0.1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20201112-213100 --continue_train --only_visualize True --seed 11 --n_facet 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 5 --optimizer AdamW --lr 1e-4 --clip 0.1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 5 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init --seed 11 --n_facet 1 --n_facet_hidden 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 5 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 3 --n_facet_hidden 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_100000_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --save_every_n_valid 1 --use_MoS True --cuda True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20201122-161916_ep10 --continue_train --only_eval True --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --eval_batch_num 10000
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20201122-162419_ep10 --continue_train --only_eval True --seed 11 --n_facet 1 --n_facet_hidden 1 --n_facet_window 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --eval_batch_num 10000
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20201224-170805 --load_file_name LM_weights_8.pt --continue_train --only_eval True --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --eval_batch_num 1000 #--cuda False
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20201224-171241 --load_file_name LM_weights_8.pt --continue_train --only_eval True --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --eval_batch_num 1000
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210224-004334 --load_file_name LM_weights_8.pt --continue_train --only_eval True --model_name gpt2-medium --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 196 --batch_size 4 --random_init False --use_avg False --use_MoS True --eval_batch_num 1000 --reconstruction_file_name gen_log/multi_facet_medium_top10__emb_eigs_norm --eval_recon_top_k 10
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210224-004343 --load_file_name LM_weights_8.pt --continue_train --only_eval True --model_name gpt2-medium --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 196 --batch_size 4 --random_init False --use_avg False --use_MoS True --eval_batch_num 1000 --reconstruction_file_name gen_log/single_facet_medium_top10_to_emb_eigs_norm --eval_recon_top_k 10
#~/anaconda4/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210224-004334 --continue_train --model_name gpt2-medium --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --start_training_split 5
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210224-004343 --continue_train --model_name gpt2-medium --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --start_training_split 5
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210224-005224 --continue_train --model_name gpt2-medium --seed 11 --n_facet 1 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --start_training_split 5
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210325-211637 --continue_train --model_name gpt2-medium --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --start_training_split 4
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210325-211746 --continue_train --model_name gpt2-medium --seed 11 --n_facet 6 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --start_training_split 4
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210405-214225 --continue_train --model_name gpt2-medium --seed 11 --n_facet 7 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_multi_shuffle --last_num 1 --start_training_split 4
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --model_name gpt2-medium --seed 11 --n_facet 7 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_multi_shuffle --last_num 1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --model_name gpt2-medium --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --model_name gpt2-medium --seed 11 --n_facet 6 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --model_name gpt2-medium --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init --model_name gpt2-medium --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init --model_name gpt2-medium --seed 11 --n_facet 1 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --model_name gpt2-medium --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_book_n3_init --data ./data/processed/book_gpt2/ --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 5 --valid_per_epoch 5 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2
# ~/anaconda3/bin/python src/main.py --save ./models/gpt2_book_n3_init --data ./data/processed/book_gpt2/ --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 5 --valid_per_epoch 5 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_book_n1_init --data ./data/processed/book_gpt2/ --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 5 --valid_per_epoch 5 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
# ~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data ./data/processed/wiki2021_gpt2/ --seed 11 --n_facet 1 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 5 --valid_per_epoch 5 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_book_n3_init --data ./data/processed/book_gpt2/ --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 5 --valid_per_epoch 5 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 2 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210326-144245 --continue_train --seed 11 --n_facet 7 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_multi_shuffle --start_training_split 5 --last_num 1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210326-144645 --continue_train --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_multi_shuffle --start_training_split 5 --last_num 2
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210326-155418 --continue_train --seed 11 --n_facet 7 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_multi_alter --start_training_split 5 --last_num 1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 9 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_multi_alter --last_num 1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 2 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode context_merge
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --masking_ratio 1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --masking_ratio 1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 6 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_multi_shuffle
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 6 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 8 --n_facet_hidden 1 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210402-215234 --continue_train --seed 11 --n_facet 8 --n_facet_hidden 1 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --start_training_split 3 --save_every_n_valid 5
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210224-004334 --load_file_name LM_weights_8.pt --continue_train --model_name gpt2-medium --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --batch_size 20 --random_init False --use_avg False --use_MoS True --data ./data/processed/analogy_google/tensor_more/0.5 --template_experiment True --reconstruction_file_name gen_log/medium_n3_best_prediction_more --template_vis_file_name gen_log/medium_n3_best_prediction_more_10 --save_every_n_valid 10 --epochs 50 --relation_type all_four --testing_file_names location_capital-common-countries+location_capital-world+location_city-in-state+people_family 
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210224-004343 --load_file_name LM_weights_8.pt --continue_train --model_name gpt2-medium --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 196 --batch_size 20 --random_init False --use_avg False --use_MoS True --data ./data/processed/analogy_google/tensor_more/0.5 --template_experiment True --reconstruction_file_name gen_log/medium_n1_best_prediction_more --template_vis_file_name gen_log/medium_n1_best_prediction_more_10 --save_every_n_valid 10 --epochs 50 --relation_type all_four --testing_file_names location_capital-common-countries+location_capital-world+location_city-in-state+people_family
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210224-004334 --load_file_name LM_weights_8.pt --continue_train --model_name gpt2-medium --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --batch_size 20 --random_init False --use_avg False --use_MoS True --data ./data/processed/analogy_google/tensor_more_w1w3/0.5 --template_experiment True --reconstruction_file_name gen_log/medium_n3_best_prediction_w1w3_more --template_vis_file_name gen_log/medium_n3_best_prediction_w1w3_more_10 --save_every_n_valid 10 --epochs 50 --relation_type all_four --testing_file_names location_capital-common-countries+location_capital-world+location_city-in-state+people_family 
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210224-004343 --load_file_name LM_weights_8.pt --continue_train --model_name gpt2-medium --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 196 --batch_size 20 --random_init False --use_avg False --use_MoS True --data ./data/processed/analogy_google/tensor_more_w1w3/0.5 --template_experiment True --reconstruction_file_name gen_log/medium_n1_best_prediction_w1w3_more --template_vis_file_name gen_log/medium_n1_best_prediction_w1w3_more_10 --save_every_n_valid 10 --epochs 50 --relation_type all_four --testing_file_names location_capital-common-countries+location_capital-world+location_city-in-state+people_family
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210224-004334 --load_file_name LM_weights_8.pt --continue_train --model_name gpt2-medium --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --batch_size 20 --random_init False --use_avg False --use_MoS True --data ./data/processed/similarity_hyper/tensor_more --template_experiment True --reconstruction_file_name gen_log/medium_hyper_n3_best_prediction --template_vis_file_name gen_log/medium_hyper_n3_best_prediction_10 --save_every_n_valid 10 --epochs 50 --relation_type high_sim 
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210224-004343 --load_file_name LM_weights_8.pt --continue_train --model_name gpt2-medium --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 196 --batch_size 20 --random_init False --use_avg False --use_MoS True --data ./data/processed/similarity_hyper/tensor_more --template_experiment True --reconstruction_file_name gen_log/medium_hyper_n1_best_prediction --template_vis_file_name gen_log/medium_hyper_n1_best_prediction_10 --save_every_n_valid 10 --epochs 50 --relation_type high_sim 
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210224-004334 --load_file_name LM_weights_8.pt --continue_train --model_name gpt2-medium --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --batch_size 20 --random_init False --use_avg False --use_MoS True --data ./data/processed/similarity_hyper/tensor_more --template_experiment True --reconstruction_file_name gen_log/medium_hyper_n3_best_prediction_low --template_vis_file_name gen_log/medium_hyper_n3_best_prediction_low_10 --save_every_n_valid 10 --epochs 50 --relation_type low_sim 
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210224-004343 --load_file_name LM_weights_8.pt --continue_train --model_name gpt2-medium --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 196 --batch_size 20 --random_init False --use_avg False --use_MoS True --data ./data/processed/similarity_hyper/tensor_more --template_experiment True --reconstruction_file_name gen_log/medium_hyper_n1_best_prediction_low --template_vis_file_name gen_log/medium_hyper_n1_best_prediction_low_10 --save_every_n_valid 10 --epochs 50 --relation_type low_sim
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210320-145419 --load_file_name LM_weights_8.pt --continue_train --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --data ./data/processed/similarity_hyper/tensor_more --template_experiment True --relation_type high_sim --reconstruction_file_name gen_log/hyper_n3_best_prediction --template_vis_file_name gen_log/hyper_n3_prediction_10 --save_every_n_valid 10 --epochs 50 
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210316-011244 --load_file_name LM_weights_8.pt --continue_train --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --data ./data/processed/similarity_hyper/tensor_more --template_experiment True --relation_type high_sim --reconstruction_file_name gen_log/hyper_n1_best_prediction --template_vis_file_name gen_log/hyper_n1_prediction_10  --save_every_n_valid 10 --epochs 50 
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210320-145419 --load_file_name LM_weights_8.pt --continue_train --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --data ./data/processed/similarity_hyper/tensor_more --template_experiment True --relation_type low_sim --reconstruction_file_name gen_log/hyper_n3_best_prediction_low --template_vis_file_name gen_log/hyper_n3_prediction_low_10 --save_every_n_valid 10 --epochs 50 
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210316-011244 --load_file_name LM_weights_8.pt --continue_train --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --data ./data/processed/similarity_hyper/tensor_more --template_experiment True --relation_type low_sim --reconstruction_file_name gen_log/hyper_n1_best_prediction_low --template_vis_file_name gen_log/hyper_n1_prediction_low_10  --save_every_n_valid 10 --epochs 50 

#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210320-145419 --load_file_name LM_weights_8.pt --continue_train --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --data ./data/processed/analogy_google/tensor_more/0.1 --template_experiment True --relation_type location_capital-common-countries --reconstruction_file_name gen_log/temp --template_vis_file_name gen_log/temp_10 --save_every_n_valid 2 --epochs 50 --testing_file_names location_capital-common-countries+location_capital-world+location_city-in-state+people_family
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210320-145419 --load_file_name LM_weights_8.pt --continue_train --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --data ./data/processed/analogy_google/tensor_more/0.5 --template_experiment True --relation_type all_four --reconstruction_file_name gen_log/n3_best_prediction_more --template_vis_file_name gen_log/n3_best_prediction_more_10 --save_every_n_valid 10 --epochs 50 --testing_file_names location_capital-common-countries+location_capital-world+location_city-in-state+people_family
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210316-011244 --load_file_name LM_weights_8.pt --continue_train --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --data ./data/processed/analogy_google/tensor_more/0.5 --template_experiment True --relation_type all_four --reconstruction_file_name gen_log/n1_best_prediction_more --template_vis_file_name gen_log/n1_best_prediction_more_10  --save_every_n_valid 10 --epochs 50 --testing_file_names location_capital-common-countries+location_capital-world+location_city-in-state+people_family
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210320-145419 --load_file_name LM_weights_8.pt --continue_train --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --data ./data/processed/analogy_google/tensor_more_w1w3/0.5 --template_experiment True --relation_type all_four --reconstruction_file_name gen_log/n3_best_prediction_w1w3_more --template_vis_file_name gen_log/n3_best_prediction_w1w3_more_10 --save_every_n_valid 10 --epochs 50 --testing_file_names location_capital-common-countries+location_capital-world+location_city-in-state+people_family
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210316-011244 --load_file_name LM_weights_8.pt --continue_train --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --batch_size 20 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --data ./data/processed/analogy_google/tensor_more_w1w3/0.5 --template_experiment True --relation_type all_four --reconstruction_file_name gen_log/n1_best_prediction_w1w3_more --template_vis_file_name gen_log/n1_best_prediction_w1w3_more_10 --save_every_n_valid 10 --epochs 50 --testing_file_names location_capital-common-countries+location_capital-world+location_city-in-state+people_family
#people_family #location_capital-common-countries #location_capital-world location_three_locations
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210320-145419 --load_file_name LM_weights_8.pt --continue_train --only_eval True --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 196 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --eval_batch_num 1000 --reconstruction_file_name gen_log/multi_facet_top20_eigs_collapse_diff_vis_bptt196_norm --eval_recon_top_k 20
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210316-011244 --load_file_name LM_weights_8.pt --continue_train --only_eval True --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 196 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --eval_batch_num 100 --reconstruction_file_name gen_log/single_facet_top10_eigs_collapse_diff_bptt196_small --eval_recon_top_k 10
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210218-133219 --load_file_name LM_weights_8.pt --continue_train --only_eval True --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 196 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --eval_batch_num 100 --reconstruction_file_name gen_log/multi_facet_no_partition_top10_eigs_collapse_diff_bptt196_facet_vis_small --eval_recon_top_k 10
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210218-133219 --load_file_name LM_weights_8.pt --continue_train --only_eval True --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 196 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --eval_batch_num 1000 --reconstruction_file_name gen_log/multi_facet_no_partition_top20_eigs_collapse_diff_bptt196_norm --eval_recon_top_k 20
# ~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210316-011244 --load_file_name LM_weights_8.pt --continue_train --only_eval True --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 196 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --eval_batch_num 1000 --reconstruction_file_name gen_log/single_facet_top20_eigs_collapse_diff_inv_bptt196_norm --eval_recon_top_k 20
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210316-011244 --load_file_name LM_weights.pt --continue_train --only_eval True --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 196 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --eval_batch_num 1000 --reconstruction_file_name gen_log/single_facet_top10_eigs_collapse_diff_bptt196_LM_norm --eval_recon_top_k 10
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210320-145419 --load_file_name LM_weights_8.pt --continue_train --only_visualize True --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20210316-011244 --load_file_name LM_weights_8.pt --continue_train --only_visualize True --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init-20210218-133219 --continue_train --only_visualize True --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init-20201224-171241 --load_file_name LM_weights_8.pt --continue_train --only_visualize True --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n3_init --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init --seed 11 --n_facet 1 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init --seed 11 --n_facet 1 --n_facet_hidden 1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init --seed 11 --n_facet 0 --n_facet_hidden 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 5 --optimizer AdamW --lr 1e-4 --clip 0.1 --random_init False
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init --seed 11 --n_facet 1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 6 --optimizer AdamW --lr 1e-4 --clip 0.1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n1_init --seed 11 --n_facet 1 --n_facet_hidden 3 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 6 --optimizer AdamW --lr 1e-4 --clip 0.1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki_n0 --n_facet 0 --training_split_num 2 --tensor_folder tensors_all_min100 --bptt 256 --batch_size 6 --optimizer AdamW --lr 1e-4
# ~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --cuda False #Yang

# ~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2/ --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 1 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --cuda True #Yang
~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 1 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 1 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True #softmax (n_facet -> 1
# ~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 1 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True #n3_3x3 (--n_facet_hidden -> 3 --n_facet_window -> -2 --n_facet_MLP -> -1)