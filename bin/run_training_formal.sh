#!/bin/bash
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 8 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 7 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_multi_shuffle --last_num 1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 #Yang + partition + multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True  #Yang + multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True  #multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True #Yang
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 1 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True #org
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 6 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 #Yang + partition
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 4 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even #partition
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 1 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --softmax_nonlinear sigsoftmax #org + sigsoftmax
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --individual_hidden_states True #one layer to one facet
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 4 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True #Yang
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 10 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True #Yang

#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init-20210425-102810 --continue_train --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2  --start_training_split 11 #Yang + partition + multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init-20210425-102922 --continue_train --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --start_training_split 13 #Yang + multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init-20210425-103135 --continue_train --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --start_training_split 13 #Yang
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init-20210425-103259 --continue_train --data data/processed/openwebtext17-18_gpt2 --seed 11 --n_facet 6 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --start_training_split 12 #Yang + partition

#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 8 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 7 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_multi_shuffle --last_num 1
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --softmax_nonlinear sigsoftmax #Yang + partition + multi hidden + sigsoftmax
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 #Yang + partition + multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True  #Yang + multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True  #multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True #Yang
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 4 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True #Yang
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 10 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True #Yang
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 1 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True #org
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 6 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 #Yang + partition
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 1 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --softmax_nonlinear sigsoftmax #org + sigsoftmax
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --individual_hidden_states True #one layer to one facet
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 4 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even #partition

#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init-20210417-011830 --continue_train --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --start_training_split 12 #Yang + partition + multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init-20210417-013011 --continue_train --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --start_training_split 14 
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init-20210417-013522 --continue_train --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --start_training_split 13
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init-20210424-153924 --continue_train --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 6 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --start_training_split 12 #Yang + partition + multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init-20210427-225341 --continue_train --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --individual_hidden_states True --start_training_split 14 #one layer to one facet
~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init-20210504-145008 --continue_train --data data/processed/wiki2021_gpt2 --seed 11 --n_facet 4 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0 --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 4 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --start_training_split 12


#gpt2-medium
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --model_name gpt2-medium --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 #Yang + partition + multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --model_name gpt2-medium --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True  #Yang + multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --model_name gpt2-medium --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True  #Yang
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --model_name gpt2-medium --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True  #multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_openwebtext17-18_n3_init --data data/processed/openwebtext17-18_gpt2 --model_name gpt2-medium --seed 11 --n_facet 1 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True  #org


#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --model_name gpt2-medium --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 #Yang + partition + multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --model_name gpt2-medium --seed 11 --n_facet 3 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True  #Yang + multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --model_name gpt2-medium --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True  #Yang
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --model_name gpt2-medium --seed 11 --n_facet 1 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True  #multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init --data data/processed/wiki2021_gpt2 --model_name gpt2-medium --seed 11 --n_facet 1 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True  #org

#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init-20210417-014859 --continue_train --data data/processed/wiki2021_gpt2 --model_name gpt2-medium --seed 11 --n_facet 6 --n_facet_hidden 3 --n_facet_window -2 --n_facet_MLP -1  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True --efficient_mode even_last_2 --start_training_split 9 #Yang + partition + multi hidden
#~/anaconda3/bin/python src/main.py --save ./models/gpt2_wiki2021_n3_init-20210424-153556 --continue_train --data data/processed/wiki2021_gpt2 --model_name gpt2-medium --seed 11 --n_facet 3 --n_facet_hidden 1 --n_facet_window 0 --n_facet_MLP 0  --training_split_num 20 --valid_per_epoch 20 --tensor_folder tensors_all_min100 --bptt 200 --batch_size 16 --optimizer AdamW --lr 1e-5 --clip 0.1 --random_init False --use_avg False --use_MoS True  --start_training_split 9 #Yang
